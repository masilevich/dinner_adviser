<% provide(:title, 'Редактировать профиль') %>
<h2>Редактировать профиль</h2>

<div class="row">
  <div class="span6 offset3">
    <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>
    <%= render 'shared/error_messages', object: f.object %>

    <%= f.label :username, "Имя пользователя" %>
    <%= f.text_field :username, :autofocus => true %>

    <%= f.label :email, "Email" %>
    <%= f.email_field :email %>

    <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    ожидается подтвеждение для: <%= resource.unconfirmed_email %>
    <% end %>

    <%= f.label :password, "Новый пароль" %> <i>(оставьте пустым, если не хотите менять)</i>
    <%= f.password_field :password, :autocomplete => "off" %>

    <%= f.label :password_confirmation, "Повторите новый пароль" %>
    <%= f.password_field :password_confirmation %>

    <%= f.label :current_password, "Текущий пароль" %> <i>(введите текущий пароль - требуется для подтверждения изменений)</i>
    <%= f.password_field :current_password %>

    <%= f.submit "Обновить", class: "btn btn-large btn-primary" %>
    <% end %>

    <h3>Удалить</h3>

    <p>
      <%= button_to "Удалить аккаунт", registration_path(resource_name), :data => { :confirm => "Вы уверены?" }, :method => :delete,  class: "btn btn-large btn-danger" %>
    </p>

    <%= link_to "Назад", :back %>

  </div>
</div>
